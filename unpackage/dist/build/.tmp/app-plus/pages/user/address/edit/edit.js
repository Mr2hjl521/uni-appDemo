(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/address/edit/edit"],{"0e24":function(e,t,s){"use strict";s.r(t);var o=s("b252"),i=s("ad1c");for(var r in i)"default"!==r&&function(e){s.d(t,e,function(){return i[e]})}(r);s("ee79");var a,n=s("f0c5"),u=Object(n["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=u.exports},7241:function(e,t,s){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return s.e("components/mpvue-picker/mpvuePicker").then(s.bind(null,"64fe"))},r={components:{mpvuePicker:i},data:function(){return{show1:!1,show5:!1,newSchoolData:"",serachFlag:1,floorNumber:"几号楼",show:"",type:1,treatmentStatu:{checked:!1},schoolIdArr:[],schoolId:"",buildingIdArr:[],buildingId:"",userId:"",pickerSingleArray:[],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],schoolData:"",doorNumber:"",addid:"",editType:"edit",id:"",name:"",detailed:"",isDefault:0,cityPickerValue:[0,0,1],region:{label:"请点击选择地址",value:[],cityCode:""},shchoolId:""}},onShow:function(){},onLoad:function(t){var s=this;s.id=t.id,"edit"==t.type&&(s.type=1,e.getStorage({key:"userId",success:function(t){var i=this;s.userId=Number(t.data),s.Get("http://39.99.137.77:8081/projects/clientUserAddress/findById?id="+s.id,{},function(t){console.log(o(t," at pages\\user\\address\\edit\\edit.vue:132")),s.schoolData=t.campusName,s.name=t.name,s.floorNumber=t.floorNumber,s.doorNumber=t.doorNumber,s.shchoolId=t.campusId,s.schoolId=t.campusId,console.log(o("========",s.shchoolId," at pages\\user\\address\\edit\\edit.vue:139")),s.pickerBuilding=[],s.buildingIdArr=[],s.Get("http://39.99.137.77:8081/projects/floor/findFloorByCampusId",{campusId:t.campusId},function(t){console.log(o(t," at pages\\user\\address\\edit\\edit.vue:143"));var r=t;if(r.length>0){for(var a=0;a<r.length;a++)s.pickerBuilding.push({label:r[a].floorNumber,value:r[a].campusId}),s.buildingIdArr.push(r[a].campusId);console.log(o(s.pickerValueArray," at pages\\user\\address\\edit\\edit.vue:154")),s.pickerValueArray=s.pickerBuilding,console.log(o(s.pickerValueArray," at pages\\user\\address\\edit\\edit.vue:157")),i.mode="selector",i.deepLength=1,i.pickerValueDefault=[0]}else e.showModal({title:"提示",content:"请确保您已选择学校，并且学校是由搜索得来"}),i.floorNumber=""}),1==t.isDefault?(s.treatmentStatu.checked=!0,s.isDefault=1):(s.treatmentStatu.checked=!1,s.isDefault=0,s.show=!0)})}})),"add"==t.type&&(s.type=0,s.show=!0),e.getStorage({key:"userId",success:function(e){s.userId=Number(e.data),s.Get("http://39.99.137.77:8081/projects/campus/findAll",{clientUserId:e.data},function(e){for(var t=e.list,o=0;o<t.length;o++)s.pickerSingleArray.push({label:t[o].campusName,value:t[o].status}),s.schoolIdArr.push(t[o].id)})}})},onBackPress:function(t){e.reLaunch({url:"/pages/tabBar/user/user"})},methods:{openSearch:function(){this.serachFlag=1,this.newSchoolData=this.schoolData,this.show1=!0},showBuilding:function(){var t=this;if(e.hideKeyboard(),t.show6=!1,""==t.newSchoolData)return t.schoolId="",void e.showModal({title:"提示",content:"请确保您已选择学校"});t.pickerBuilding=[],t.buildingIdArr=[],t.Get("http://39.99.137.77:8081/projects/floor/findFloorByCampusId",{campusId:t.schoolId},function(s){console.log(o(s," at pages\\user\\address\\edit\\edit.vue:250"));var i=s;if(i.length>0){for(var r=0;r<i.length;r++)t.pickerBuilding.push({label:i[r].floorNumber,value:i[r].campusId}),t.buildingIdArr.push(i[r].campusId);t.pickerValueArray=t.pickerBuilding,t.mode="selector",t.deepLength=1,t.pickerValueDefault=[0],t.$refs.mpbuilding.show()}else t.floorNumber="几号楼",console.log(o(t.floorNumber," at pages\\user\\address\\edit\\edit.vue:268")),""==t.schoolId?e.showModal({title:"提示",content:"请确保您已选择学校，并且学校是由搜索得来"}):e.showModal({title:"提示",content:"当前所选学校暂无楼号可选，请选择其他学校"})})},isDefaultChange:function(){e.hideKeyboard(),this.treatmentStatu.checked=!this.treatmentStatu.checked,1==this.treatmentStatu.checked?this.isDefault=1:this.isDefault=0},showSinglePicker:function(){var t=this;e.hideKeyboard(),this.show6=!1,this.pickerSingleArray=[],this.schoolIdArr=[],this.Get("http://39.99.137.77:8081/projects/campus/keyWordsSeach",{campusName:this.schoolData},function(e){console.log(o(e," at pages\\user\\address\\edit\\edit.vue:304"));for(var s=e,i=0;i<s.length;i++)t.pickerSingleArray.push({label:s[i].campusName,value:s[i].status}),t.schoolIdArr.push(s[i].id)}),this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},onConfirm:function(t){e.hideKeyboard();var s=Number(t.index);this.schoolId=this.schoolIdArr[s],this.schoolData=t.label,this.newSchoolData=t.label,this.serachFlag=0,this.show1=!1},onBuilding:function(t){e.hideKeyboard(),this.show1=!1;var s=Number(t.index);this.buildingId=this.buildingIdArr[s],this.floorNumber=t.label,this.show5=!0},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpbuilding.showPicker?(this.$refs.mpbuilding.pickerCancel(),!0):void 0},del:function(){var t=this;e.showModal({title:"删除提示",content:"你将删除这个收货地址",success:function(s){var o=t;s.confirm?t.Delete("http://39.99.137.77:8081/projects/clientUserAddress?id="+o.id,{},function(t){e.hideKeyboard(),e.showToast({title:"删除成功",icon:"none"}),setTimeout(function(){e.navigateTo({url:"/pages/user/address/address"})},500)}):s.cancel}})},eid:function(){""!=this.floorNumber&&""!=this.name?this.Put("http://39.99.137.77:8081/projects/clientUserAddress",{id:this.id,clientUserId:this.userId,isDefault:this.isDefault,name:this.name,doorNumber:this.doorNumber,floorNumber:this.floorNumber,campusId:this.schoolId},function(t){e.hideKeyboard(),e.showToast({title:"修改成功",icon:"none"}),setTimeout(function(){e.navigateTo({url:"/pages/user/address/address"})},500)}):e.showModal({title:"提示",content:"信息未填写齐全，请重新填写"})},save:function(){console.log(o(this.isDefault," at pages\\user\\address\\edit\\edit.vue:411")),""!=this.floorNumber?this.Post("http://39.99.137.77:8081/projects/clientUserAddress/add",{campusId:this.schoolId,clientUserId:this.userId,doorNumber:this.doorNumber,floorNumber:this.floorNumber,isDefault:this.isDefault,name:this.name},function(t){e.hideKeyboard(),e.showToast({title:"添加成功",icon:"none"}),setTimeout(function(){e.navigateTo({url:"/pages/user/address/address"})},500)}):e.showModal({title:"提示",content:"信息未填写齐全，请重新填写"})},Post:function(t,s,o){e.request({method:"POST",url:t,data:s,header:{"Content-Type":"application/json"},success:function(e){o(e.data)},fail:function(e){alert("信息错误")}})},Put:function(t,s,o){e.request({method:"PUT",url:t,data:s,header:{"Content-Type":"application/json"},success:function(e){o(e.data)},fail:function(e){alert("信息错误")}})},Delete:function(t,s,o){e.request({method:"DELETE",url:t,data:s,header:{"Content-Type":"application/json"},success:function(e){o(e.data)},fail:function(e){alert("信息错误")}})},Get:function(t,s,o){e.request({url:t,data:s,header:{"Content-Type":"application/json"},success:function(e){o(e.data)},fail:function(e){alert("信息错误")}})}}};t.default=r}).call(this,s("6e42")["default"],s("0de9")["default"])},ad1c:function(e,t,s){"use strict";s.r(t);var o=s("7241"),i=s.n(o);for(var r in o)"default"!==r&&function(e){s.d(t,e,function(){return o[e]})}(r);t["default"]=i.a},b252:function(e,t,s){"use strict";var o,i=function(){var e=this,t=e.$createElement;e._self._c},r=[];s.d(t,"b",function(){return i}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o})},bab1:function(e,t,s){"use strict";(function(e){s("5925"),s("921b");o(s("66fd"));var t=o(s("0e24"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])},dc0e:function(e,t,s){},ee79:function(e,t,s){"use strict";var o=s("dc0e"),i=s.n(o);i.a}},[["bab1","common/runtime","common/vendor"]]]);