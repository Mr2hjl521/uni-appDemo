(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/help/writeHelpInfo"],{"0178":function(e,s,t){"use strict";t.r(s);var i=t("db19"),o=t.n(i);for(var r in i)"default"!==r&&function(e){t.d(s,e,function(){return i[e]})}(r);s["default"]=o.a},4846:function(e,s,t){},"6f38":function(e,s,t){"use strict";t.r(s);var i=t("cc03"),o=t("0178");for(var r in o)"default"!==r&&function(e){t.d(s,e,function(){return o[e]})}(r);t("95c0");var n,d=t("f0c5"),c=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);s["default"]=c.exports},"95c0":function(e,s,t){"use strict";var i=t("4846"),o=t.n(i);o.a},cc03:function(e,s,t){"use strict";var i,o=function(){var e=this,s=e.$createElement;e._self._c},r=[];t.d(s,"b",function(){return o}),t.d(s,"c",function(){return r}),t.d(s,"a",function(){return i})},db19:function(e,s,t){"use strict";(function(e,i){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(){return t.e("components/mpvue-picker/mpvuePicker").then(t.bind(null,"64fe"))},r=function(){return t.e("components/xfl-select/xfl-select").then(t.bind(null,"162a"))},n=function(){return Promise.all([t.e("common/vendor"),t.e("components/mx-datepicker/mx-datepicker")]).then(t.bind(null,"2580"))},d={components:{mpvuePicker:o,xflSelect:r,MxDatePicker:n},data:function(){return{show1:!1,show5:!1,newSchoolData:"",serachFlag:1,floorNumber:"几号楼",buildingIdArr:[],buildingId:"",pickerBuilding:[],key:!1,flagAddress:"",price:"",userId:"",schoolIdArr:[],ss:[],schoolId:"",pickerSingleArray:[],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],addressId:"",userInfo:{name:"",schoolData:"",floorNumber:"",doorNumber:""},importUserInfo:{},items:[],arddressWindows:!1,show:!1,kongWindows:!1,pickupAddress:["请选择"],logisticsName:["请选择"],pickupAddressIds:[""],logisticsNameIds:[""],list:[{index:0,indexa:0,brand:["请选择"],type:["请选择"],pickupId:"",logisticsId:"",pickCode:"",name:"",phone:""}],cityPickerValue:[0,0,1],isSelect:!1,index:0,region:{label:"请点击选择地址",value:[],cityCode:""},showPicker:!1,schoolData:"",src:"",current:""}},onPageScroll:function(e){e.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onLoad:function(){var s=this;e.getStorage({key:"userId",success:function(e){s.userId=Number(e.data),s.Get("http://39.99.137.77:8081/projects/serviceUserTime/selectAddressById",{clientUserId:e.data},function(e){var t=e.clientUserAddressList;if(t.length>1)for(var i=0;i<t.length;i++)s.items.push({value:t[i].id.toString(),name:t[i].name,campusName:t[i].campusName,doorNumber:t[i].doorNumber,floorNumber:t[i].floorNumber,index:i,isDefault:t[i].isDefault}),s.ss.push(t[i].campusId);else s.importUserInfo=e.clientUserAddressList,s.addressId=e.clientUserAddressList[0].campusId}),s.Get("http://39.99.137.77:8081/projects/campus/findAll",{clientUserId:e.data},function(e){for(var t=e.list,i=0;i<t.length;i++)s.pickerSingleArray.push({label:t[i].campusName,value:t[i].status}),s.schoolIdArr.push(t[i].id)})}})},methods:{openSearch:function(){this.serachFlag=1,this.newSchoolData=this.userInfo.schoolData,this.show1=!0},onBuilding:function(s){e.hideKeyboard(),this.show1=!1;var t=Number(s.index);this.buildingId=this.buildingIdArr[t],this.floorNumber=s.label,this.show5=!0},showBuilding:function(){var s=this;if(e.hideKeyboard(),this.show6=!1,""==this.newSchoolData)return this.schoolId="",void e.showModal({title:"提示",content:"请确保您已选择学校"});e.hideKeyboard(),this.pickerBuilding=[],this.buildingIdArr=[],this.Get("http://39.99.137.77:8081/projects/floor/findFloorByCampusId",{campusId:this.schoolId},function(t){var i=t;if(i.length>0){for(var o=0;o<i.length;o++)s.pickerBuilding.push({label:i[o].floorNumber,value:i[o].campusId}),s.buildingIdArr.push(i[o].campusId);s.pickerValueArray=s.pickerBuilding,s.mode="selector",s.deepLength=1,s.pickerValueDefault=[0],s.$refs.mpbuilding.show()}else s.floorNumber="几号楼",""==s.schoolId?e.showModal({title:"提示",content:"请确保您已选择学校，并且学校是由搜索得来"}):e.showModal({title:"提示",content:"当前所选学校暂无楼号可选，请选择其他学校"})})},changechecked:function(){if(0==this.key)for(var e=0;e<this.list.length;e++)this.list[e].name="",this.list[e].phone="";this.key=!this.key},close:function(){this.show=!1},shanchu:function(e){this.list.splice(e,1)},importMyAddress:function(){if(e.hideKeyboard(),this.kongWindows=!0,1==this.importUserInfo.length){this.addressId=this.importUserInfo[0].id;var s=this.importUserInfo[0].name;this.userInfo.name=s;var t=this.importUserInfo[0].campusName;this.userInfo.schoolData=t;var o=this.importUserInfo[0].floorNumber;this.userInfo.floorNumber=o,this.floorNumber=o,console.log(i(this.floorNumber," at pages\\help\\writeHelpInfo.vue:388"));var r=this.importUserInfo[0].doorNumber;this.userInfo.doorNumber=r;var n=this.importUserInfo[0].campusId,d=this;d.Get("http://39.99.137.77:8081/projects/pickup/findPickupByCampusId",{campusId:n},function(e){for(var s=0;s<e.length;s++)d.list[0].type.push(e[s].pickupAddress),d.pickupAddressIds.push(e[s].id),d.pickupAddress.push(e[s].pickupAddress);d.Get("http://39.99.137.77:8081/projects/logistics/findAll",{},function(e){for(var s=0;s<e.length;s++)d.list[0].brand.push(e[s].logisticsName),d.logisticsNameIds.push(e[s].id),d.logisticsName.push(e[s].logisticsName)})})}else this.arddressWindows=!0},toWrite:function(){this.floorNumber="几号楼",this.userInfo.name="",this.userInfo.schoolData="",this.userInfo.floorNumber="",this.userInfo.doorNumber="",this.kongWindows=!1,this.addressId=""},closeWindows:function(){console.log(i("看这里"," at pages\\help\\writeHelpInfo.vue:444")),this.userInfo.floorNumber=this.floorNumber;var s=this;if(""==s.userId||""==s.userInfo.name||""==s.schoolId||""==s.userInfo.floorNumber||""==s.userInfo.doorNumber)e.showModal({title:"提示",content:"信息未填写完整,请继续填写",success:function(e){e.confirm||e.cancel}});else{var t=Number(s.list.length);s.price=1*Number(t),s.show=!1,""!==s.flagAddress?s.Post("http://39.99.137.77:8081/projects/takeDeliveryOrder",{clientUserId:s.userId,clientUserAddressId:s.flagAddress,price:s.price,list:s.list},function(s){400==s.code&&e.showModal({title:"提示",content:"包裹信息未填写完整,请继续填写",success:function(e){e.confirm||e.cancel}}),200==s.code&&e.navigateTo({url:"./pay?orderId="+s.data})}):""==s.flagAddress&&s.Post("http://39.99.137.77:8081/projects/clientUserAddress/add",{isDefault:0,clientUserId:s.userId,name:s.userInfo.name,campusId:s.schoolId,floorNumber:s.floorNumber,doorNumber:s.userInfo.doorNumber},function(t){s.flagAddress=t,s.Post("http://39.99.137.77:8081/projects/takeDeliveryOrder",{clientUserId:s.userId,clientUserAddressId:t,price:s.price,list:s.list},function(s){400==s.code&&e.showModal({title:"提示",content:"包裹信息未填写完整,请继续填写",success:function(e){e.confirm||e.cancel}}),200==s.code&&e.navigateTo({url:"./pay?orderId="+s.data})})})}},closeAddressWindows:function(){this.arddressWindows=!1},saveAndCloseAddressWindows:function(){e.hideKeyboard();var s=this.current;this.userInfo.name=this.items[s].name;var t=this.items[s].campusName;this.userInfo.schoolData=t,this.userInfo.floorNumber=this.items[s].floorNumber,this.floorNumber=this.items[s].floorNumber,this.userInfo.doorNumber=this.items[s].doorNumber,this.arddressWindows=!1,this.kongWindows=!0,this.schoolId=this.ss[s]},onShowDatePicker:function(e){this.type=e,this.showPicker=!0,this.value=this[e]},toOrder:function(){e.hideKeyboard(),this.userInfo.floorNumber=this.floorNumber;var s=this;if(1==s.kongWindows){s=this,s.time;var t=Number(s.addressId),i=Number(s.list.length);s.price=1*i;s.list;s.Post("http://39.99.137.77:8081/projects/takeDeliveryOrder",{clientUserId:s.userId,clientUserAddressId:t,price:s.price,list:s.list},function(s){400==s.code&&e.showModal({title:"提示",content:"包裹信息未填写完整,请继续填写",success:function(e){e.confirm||e.cancel}}),200==s.code&&(e.navigateTo({url:"./pay?orderId="+s.data}),e.hideKeyboard())})}else 0==s.kongWindows&&(s.show=!0)},radioChange:function(s){e.hideKeyboard();for(var t=0;t<this.items.length;t++)if(this.items[t].value===s.target.value){this.current=t;break}this.addressId=s.target.value,this.schoolId=this.ss[this.current];var i=this;i.Get("http://39.99.137.77:8081/projects/pickup/findPickupByCampusId",{campusId:i.schoolId},function(e){for(var s=0;s<e.length;s++)i.list[0].type.push(e[s].pickupAddress),i.pickupAddressIds.push(e[s].id),i.pickupAddress.push(e[s].pickupAddress);i.Get("http://39.99.137.77:8081/projects/logistics/findAll",{},function(e){for(var s=0;s<e.length;s++)i.list[0].brand.push(e[s].logisticsName),i.logisticsNameIds.push(e[s].id),i.logisticsName.push(e[s].logisticsName)})})},bindbrandChange:function(e){this.index=e.target.value},bindbrandChangelft:function(e){this.list[this.indexl].index=e.target.value;var s=e.target.value;this.list[this.indexl].logisticsId=this.logisticsNameIds[s];this.list[this.index].logisticsId},bindbrandChangectr:function(e){this.list[this.indexl].indexa=e.target.value;e.target.value;this.list[this.indexl].pickupId=this.pickupAddressIds[this.list[this.indexl].indexa];this.list[this.indexl].pickupId},addCheck:function(){this.list.length<5?this.list.push({index:0,indexa:0,brand:this.logisticsName,type:this.pickupAddress,pickupId:"",logisticsId:"",pickCode:"",name:"",phone:""}):e.showModal({title:"提示",content:"一个订单最多添加五个包裹",success:function(e){e.confirm||e.cancel}})},checkIndex:function(e){this.indexl=e},Post:function(s,t,i){e.request({method:"POST",url:s,data:t,header:{"Content-Type":"application/json"},success:function(e){i(e.data)},fail:function(e){alert(e.data)}})},Get:function(s,t,i){e.request({url:s,data:t,header:{"Content-Type":"application/json"},success:function(e){i(e.data)},fail:function(e){i(e)}})},showSinglePicker:function(){var s=this;e.hideKeyboard(),this.show6=!1,this.pickerSingleArray=[],this.schoolIdArr=[],this.Get("http://39.99.137.77:8081/projects/campus/keyWordsSeach",{campusName:this.userInfo.schoolData},function(e){for(var t=e,i=0;i<t.length;i++)s.pickerSingleArray.push({label:t[i].campusName,value:t[i].status}),s.schoolIdArr.push(t[i].id)}),this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},onConfirm:function(s){var t=this;e.hideKeyboard();var o=Number(s.index);t.schoolId=t.schoolIdArr[o],t.newSchoolData=s.label,t.userInfo.schoolData=s.label,t.serachFlag=0,t.show1=!1,console.log(i("serachFlag",t.serachFlag," at pages\\help\\writeHelpInfo.vue:832")),t.Get("http://39.99.137.77:8081/projects/pickup/findPickupByCampusId",{campusId:t.schoolId},function(s){for(var i=0;i<s.length;i++)t.list[0].type.push(s[i].pickupAddress),t.pickupAddressIds.push(s[i].id),t.pickupAddress.push(s[i].pickupAddress);t.Get("http://39.99.137.77:8081/projects/logistics/findAll",{},function(s){for(var i=0;i<s.length;i++)t.list[0].brand.push(s[i].logisticsName),t.logisticsNameIds.push(s[i].id),t.logisticsName.push(s[i].logisticsName);e.hideKeyboard()})})},onBackPress:function(){return this.$refs.mpvuePicker.showPicker?(this.$refs.mpvuePicker.pickerCancel(),!0):this.$refs.mpbuilding.showPicker?(this.$refs.mpbuilding.pickerCancel(),!0):void 0}}};s.default=d}).call(this,t("6e42")["default"],t("0de9")["default"])},eb56:function(e,s,t){"use strict";(function(e){t("5925"),t("921b");i(t("66fd"));var s=i(t("6f38"));function i(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,t("6e42")["createPage"])}},[["eb56","common/runtime","common/vendor"]]]);